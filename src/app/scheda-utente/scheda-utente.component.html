<div class="container py-4">
    <div class="row">
      <div class="col-md-12">
        <h1 class="text-left mb-4">Benvenuto, {{datiUtente[0].nome}}</h1>
        <p class=" text-left">In questa pagina potrai visualizzare i tuoi dati e i ticket richiesti.</p>
        
      </div>
    </div>
  
    <div class="row mt-4">
      <div class="col-md-6 mb-4">

  
        <div class="mb-5 card p-4">
          <h3>Informazioni Utente</h3>
          <div class="mt-3">
            <p><strong>Nome:</strong> {{datiUtente[0].nome}}</p>
            <p><strong>Cognome:</strong> {{datiUtente[0].cognome}}</p>
            <p><strong>Email:</strong> {{datiUtente[0].email}}</p>
          </div>
        </div>
      </div>
  
      <div class="col-md-6">
        <div class="mb-4">
          <h2>Ticket Attivi</h2>
          <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">Descrizione</th>
                    <th scope="col">Data Inserimento</th>
                    <th scope="col">Tipologia</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let ticket of datiTicketsAttivi">
                    <td>{{ticket.descrizione}}</td>
                    <td>{{ticket.data_inserimento}}</td>
                    <td>{{ticket.tipologia}}</td>
                  </tr>
                </tbody>
              </table>
              <button type="button" class="btn btn-primary mb-4" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Aggiungi Ticket
              </button>
          </div>
        </div>
  
        <div>
          <h2>Ticket Risolti</h2>
          <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">Descrizione</th>
                    <th scope="col">Data Inserimento</th>
                    <th scope="col">Data Chiusura</th>
                    <th scope="col">Tipologia</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let ticket of datiTicketsRisolti">
                    <td>{{ticket.descrizione}}</td>
                    <td>{{ticket.data_inserimento}}</td>
                    <td>{{ticket.data_chiusura}}</td>
                    <td>{{ticket.tipologia}}</td>
                  </tr>
                </tbody>
              </table>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Aggiungi Nuovo Ticket</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form [formGroup]="formNuovoTicket">
                <div class="mb-3">
                  <label for="descrizione" class="form-label">Descrizione:</label>
                  <input type="text" class="form-control" id="descrizione" placeholder="Inserisci descrizione" formControlName="descrizione">
                    <p *ngIf="!formNuovoTicket.get('descrizione')?.valid && formNuovoTicket.get('descrizione')?.touched">Descrizione non valida</p>

                </div>
                <div class="mb-3">
                  <label for="data" class="form-label">Data Inserimento:</label>
                  <input type="date" class="form-control" id="data" formControlName="data_inserimento">
                  <p *ngIf="!formNuovoTicket.get('data_inserimento')?.valid && formNuovoTicket.get('data_inserimento')?.touched">Data inserita non valida</p>

                </div>
                <div class="mb-3">
                  <label for="tipologia" class="form-label">Tipologia:</label>
                  <input type="text" class="form-control" id="tipologia" placeholder="Inserisci tipologia" formControlName="tipologia">
                  <p *ngIf="!formNuovoTicket.get('tipologia')?.valid && formNuovoTicket.get('tipologia')?.touched">Tipologia inserita non valida</p>

                </div>
              </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
            <button type="button" class="btn btn-primary" (click)="aggiungiNuovoTicket()">Salva Ticket</button>
          </div>
        </div>
      </div>
    </div>
  </div>